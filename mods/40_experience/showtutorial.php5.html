<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>




<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="description" content="Dedicated to helping you learn how to modify your favorite games!"> 
<meta name="keywords" content="inside3d, inside 3d, knowledge is power, 3d gaming, quake, games, modifications, mods, map, quakec, editing, news, information, reviews, articles, tutorials, modify">
<title>Inside3D - QuakeC Coding - Wocka-Wocka-Wocka</title>
<link href="showtutorial.php5_fichiers/inside3d.css" rel="stylesheet" type="text/css">
<link rel="icon" type="image/png" href="http://www.inside3d.com/favicon.png">

<!--[if IE]>
  <style type="text/css">
   body {behavior: url(csshover.htc);}
  </style>
<![endif]-->
 
<script language="javascript">

	function ToggleVisibility (id)
	{
		target = document.getElementById(id);

		if(target.className == 'invisible')
			target.className = 'visible';
		else
			target.className = 'invisible';
	}

	function ToggleTree(id, subid)
	{
		ToggleVisibility(subid);

		if (document.getElementById(subid).className == "visible")
			document.getElementById(id).className = "expanded";
		else
			document.getElementById(id).className = "closed";	
	}
	
</script>

</head><body>

<div align="center">
  <!-- OH NOES! -->
  <iframe border="0" marginwidth="0" marginheight="0" bordercolor="#000000" src="showtutorial.php5_fichiers/defaultnopop.html" frameborder="0" height="90" scrolling="no" width="728">
	</iframe>
</div>


<div id="top"><img src="showtutorial.php5_fichiers/logo2.jpg" alt="Inside3D!" height="130" width="450"><div id="top_right"></div></div>
<div id="left">
<div class="menuheading">Inside3D</div>
<ul>
<li><a href="http://www.inside3d.com/index.php">Front Page</a></li>
<li><a href="http://www.inside3d.com/articles.php">Articles</a></li>
<!-- <li><a href="downloads.php">Downloads</a></li> -->
<li><a href="http://forums.inside3d.com/">Forums</a></li>
<li><a href="http://www.inside3d.com/irc.php">IRC Chat</a></li>
<li><a href="http://www.inside3d.com/newsarchive.php">News Archive</a></li>
<!-- <li><a href="helpwanted.php">Help Wanted</a></li> -->
<!-- <li><a href="interviews.php">Interviews</a></li> -->
<!-- <li><a href="reviews.php">Reviews</a></li> -->
<li><a href="http://www.inside3d.com/staff.php">Staff</a></li>
<!-- <li><a href="viewstats.php">Web Stats</a></li> -->
<li><a href="http://www.inside3d.com/submitnews.php">Submit News</a></li>
<li><a href="http://www.inside3d.com/submittutorial.php">Submit Tutorial</a></li>
<li><a href="http://www.inside3d.com/login.php">Log In</a></li>	
</ul>
<br>


<div class="menuheading">Quake</div>
<ul>
<li><a href="http://www.inside3d.com/gettingstarted.php">Getting Started</a></li>
<li><a href="http://www.inside3d.com/qcspecs/qc-menu.htm">QuakeC Specs v1.0</a></li>
<li><a href="http://www.inside3d.com/tutorials.php">QuakeC Tutorials</a></li>
<li><a href="http://www.inside3d.com/pastebin.php">QuakeC PasteBin</a></li>
<li><a href="http://www.inside3d.com/browse.php">Browse Progs 1.06</a></li>
<!-- <li><a href="">Quake Mod Index</a></li> -->
</ul>
<br>

<div class="menuheading">Allied Sites</div>
<ul>
<li><a href="http://minion.planetquake.gamespy.com/index3.html">AI Cafe</a></li>
<li><a href="http://icculus.org/twilight/darkplaces/">DarkPlaces</a></li>
<li><a href="http://dpwiki.slipgateconstruct.com/">DarkPlaces Wiki</a></li>
<li><a href="http://www.inside3d.com/frikbot/">FrikBot</a></li>
<li><a href="http://www.celephais.net/board/news.php">Func_Msgboard</a></li>
<li><a href="http://leileilol.mancubus.net/leiware">Leiware</a></li>
<li><a href="http://www.mpqarchive.com/">MPQ Archive</a></li>
<li><a href="http://www.quaddicted.com/">Quaddicted</a></li>
<li><a href="http://www.inside3d.com/qip/">Quake Info Pool</a></li>
<li><a href="http://www.quaketerminus.com/">Quake Terminus</a></li>
<li><a href="http://www.inside3d.com/sitelist.php">More...</a></li>
</ul>
<br>
</div>

<div id="right">
	<div class="menuheading">Pic of the "Day"</div>
	<div align="center">
		<div id="POTD">
			<a href="http://www.inside3d.com/image.php?show=potd/transloquake000063.jpg"><img src="showtutorial.php5_fichiers/transloquake000063.jpg" alt="Pic of the 'Day'" border="0"></a>
		</div>
	</div>
	<br>
	<div class="menuheading">Recent News</div>
	<div class="smalltext">
	<br>
	<ul><li><a href="http://www.inside3d.com/index.php?show=338">Quake Expo 2011</a></li><li><a href="http://www.inside3d.com/index.php?show=337">Store Your SteelStorm Stylings</a></li><li><a href="http://www.inside3d.com/index.php?show=336">It Burns the Second Time Around</a></li><li><a href="http://www.inside3d.com/index.php?show=335">QuakeDev.com Is Down</a></li><li><a href="http://www.inside3d.com/index.php?show=334">Post Mortem Post Mortem</a></li></ul>	</div>
    <br>
	<div class="menuheading">RSS Feeds</div>
	<ul>
	<li><a href="http://www.inside3d.com/news_feed.php">News Feed</a></li>
	<li><a href="http://www.inside3d.com/tutorial_feed.php">Tutorial Feed</a></li>
	</ul>
    <br>
    
    <div align="center">
    <iframe border="0" marginwidth="0" marginheight="0" bordercolor="#000000" src="showtutorial.php5_fichiers/default600.html" frameborder="0" height="600" scrolling="no" width="120">
	</iframe>
	</div>
	
</div>
<div id="center">
			<div align="center">
			<table style="border: 1px dashed rgb(141, 207, 244); background-color: rgb(17, 17, 17); margin: 10px; padding: 3px;" border="0" cellpadding="0" cellspacing="3">
			  <tbody><tr>
				<td style="color: yellow;" width="150">Submitted by</td>
				<td width="150"><a href="http://www.inside3d.com/tutorials.php?user=Marius">Marius</a></td>
			  </tr>
			  <tr>
				<td style="color: yellow;">Category</td>
				<td><a href="http://www.inside3d.com/tutorials.php?cat=Misc">Misc</a></td>
			  </tr>
			  <tr>
				<td style="color: yellow;">Difficuilty</td>
				<td><a href="http://www.inside3d.com/tutorials.php?diff=4">
<img src="showtutorial.php5_fichiers/quad_on.gif" alt="Quad" border="0"><img src="showtutorial.php5_fichiers/quad_on.gif" alt="Quad" border="0"><img src="showtutorial.php5_fichiers/quad_on.gif" alt="Quad" border="0"><img src="showtutorial.php5_fichiers/quad_on.gif" alt="Quad" border="0"><img src="showtutorial.php5_fichiers/quad_off.gif" alt="Quad" border="0">		
				</a></td>
			  </tr>
			  <tr>
				<td style="color: yellow;">Date</td>
				<td><a href="http://www.inside3d.com/tutorials.php?date=2006-01-05">2006-01-05</a></td>
			  </tr>
			</tbody></table>
			</div>
This tutorial will introduce two different Experience Systems to Quake. 
The first method or system is Points By Kills as I call it. This system 
gives you a certain amount of Exp Points per death and is relational to 
the monster type killed. The second method or system is what I call 
Points Per Blow. Despite the name it has nothing to do with lewd 
activities but rather is an Exp System by which for each time you hit a 
monster you gain a small amount of experience. In this system it depends
 upon weapon and monster to the value of experience recieved. Each 
method is outlined seperately. The first method is the easiest though I 
suggest the second as a more 'hardcore' approach.
<br>
<br><h3><b>Method 1: Points By Kills</b>
<br>Step 1.</h3>
<br>
<br>Open up Defs.qc and scroll down to the very bottom and add:
<br>
<br><div class="code"><pre>//Variable for Exp Total
.float has_exp;	
</pre></div>
<br>
<br>This is the variable that stores our total experience points. You 
may wish to change the name but if you do remember to do it in all the 
steps. Go on to the next step.
<br>
<br><h3>Step 2.</h3>
<br>
<br>Ok, the first step in either method is to create a new QC file called Exp_Sys.qc. Into this new file add the following:
<br>
<br><div class="code"><pre>/*
==============================================================================

EXPERIENCE SYSTEM A - POINTS PER KILL

==============================================================================
*/

void(entity person, float expamt) AddExp =
{
	local string tally;

	if (person.classname != "player") return;

	person.has_exp = person.has_exp + expamt;	

	tally = ftos(person.has_exp);

	if (person.classname == "player")
	{
		sprint(person, "You now have ");
		sprint(person, tally);
		sprint(person, " Experience Points\n");
	}

};
</pre></div>
<br>
<br>This function tallys up the experience and prints the amount the person has.
<br>
<br><h3>Step 3.</h3>
<br>
<br>Now that the above step is complete and the Exp Function is in place
 we need to make use of it. Open up Combat.qc and scroll down to the 
Killed function. Found it? Once you've found it find the lines within it
 that look like this:
<br>
<br><div class="code"><pre>	if (self.flags &amp; FL_MONSTER)
	{
		killed_monsters = killed_monsters + 1;
		WriteByte (MSG_ALL, SVC_KILLEDMONSTER);
	}
</pre></div>
<br>
<br>This is where well the Exp System comes in to use. Replace the above block of code with the below:
<br>
<br><div class="code"><pre>	if (self.flags &amp; FL_MONSTER)
	{
		killed_monsters = killed_monsters + 1;
		if (self.classname == "monster_dog") AddExp (attacker, 30);
		if (self.classname == "monster_knight") AddExp (attacker, 50);
		if (self.classname == "monster_zombie") AddExp (attacker, 55);
		if (self.classname == "monster_demon1") AddExp (attacker, 70);
		if (self.classname == "monster_fish") AddExp (attacker, 20);
		if (self.classname == "monster_enforcer") AddExp (attacker, 40);
		if (self.classname == "monster_hell_knight") AddExp (attacker, 75);
		if (self.classname == "monster_ogre") AddExp (attacker, 65);
		if (self.classname == "monster_ogre_marksman") AddExp (attacker, 65);
		if (self.classname == "monster_shalrath") AddExp (attacker, 60);
		if (self.classname == "monster_shambler") AddExp (attacker, 80);
		if (self.classname == "monster_army") AddExp (attacker, 35);
		if (self.classname == "monster_tarbaby") AddExp (attacker, 25);
		if (self.classname == "monster_wizard") AddExp (attacker, 45);
		WriteByte (MSG_ALL, SVC_KILLEDMONSTER);
	}
</pre></div>
<br>
<br>Done that? If so continue to the next step.
<br>
<br><h3>Step 4.</h3>
<br>
<br>The following step is optional. If you do not wish to have a key to 
press to display your Experince Points then go onto step 5. If you do 
then open up Exp_sys.qc and below the AddExp function add the following 
code:
<br>
<br><div class="code"><pre>void() PrintExp =
{
	local string tally;

	tally = ftos(self.has_exp);

	if (person.classname == "player")
	{
		sprint(self, "You now have ");
		sprint(self, tally);
		sprint(self, " Experience Points\n");
	}

};
</pre></div>
<br>
<br>Now open up Weapons.qc and find ImpulseCommands. In this function above the impulse for QuadCheat add the following impulse:
<br>
<br><div class="code"><pre>	if (self.impulse = 15) PrintExp ();
</pre></div>
<br>
<br>All you have to do is bind the impulse, in this case 15 to a key in quake or edit the config file.
<br>
<br><h3>Step 5.</h3>
<br>
<br>This is the easiest step. Open up Progs.src and above Combat.qc add 
Exp_sys.qc. Now save everything and compile. Pat yourself on the back 
cause your finished.
<br>
<br><h3><b>Method 2: Points By Blows</b>
<br>Step 1.</h3>
<br>
<br>Open up Defs.qc and scroll down to the very bottom and add:
<br>
<br><div class="code"><pre>//Variable for Exp Total
.float has_exp;	
</pre></div>
<br>
<br>This is the variable that stores our total experience points. You 
may wish to change the name but if you do remember to do it in all the 
steps. Go on to the next step.
<br>
<br><h3>Step 2.</h3>
<br>
<br>Ok, the first step in either method is to create a new QC file called Exp_Sys.qc. Into this new file add the following:
<br>
<br><div class="code"><pre>/*
==============================================================================

EXPERIENCE SYSTEM B - POINTS PER BLOW

==============================================================================
*/

void(entity person, float expamt) AddExp =
{
	local string tally;

	if (person.classname != "player") return;

      if (self.weapon == IT_AXE)expamt = expamt * 2;
      else if (self.weapon == IT_SHOTGUN)expamt = expamt * 1.7;
      else if (self.weapon == IT_SUPER_SHOTGUN)expamt = expamt * 1;
      else if (self.weapon == IT_NAILGUN)expamt = expamt * 1.2;
      else if (self.weapon == IT_SUPER_NAILGUN)expamt = expamt * 1;
      else if (self.weapon == IT_GRENADE_LAUNCHER)expamt = expamt * 0.8;
      else if (self.weapon == IT_ROCKET_LAUNCHER)expamt = expamt * 0.7;
      else if (self.weapon == IT_LIGHTNING)expamt = expamt * 0.5;

	person.has_exp = person.has_exp + expamt;	
};

void(entity person) PrintExp =
{
	local string tally;

	tally = ftos(person.has_exp);

	if (person.classname == "player")
	{
		sprint(person, "You now have ");
		sprint(person, tally);
		sprint(person, " Experience Points\n");
	}

};
</pre></div>
<br>
<br>This function tallys up the experience and prints the amount the person has.
<br>
<br><h3>Step 3.</h3>
<br>
<br>This step puts the AddExp function to use. So open up Combat.qc and 
scroll down to the T_Damage function. After block beginning with the 
lines:
<br>
<br><div class="code"><pre>// check for godmode or invincibility
	if (targ.flags &amp; FL_GODMODE)
</pre></div>
<br>
<br>Add the following block of code:
<br>
<br><div class="code"><pre>		if (self.classname == "monster_dog") AddExp (attacker, 3);
		if (self.classname == "monster_knight") AddExp (attacker, 5);
		if (self.classname == "monster_zombie") AddExp (attacker, 5);
		if (self.classname == "monster_demon1") AddExp (attacker, 7);
		if (self.classname == "monster_fish") AddExp (attacker, 2);
		if (self.classname == "monster_enforcer") AddExp (attacker, 4);
		if (self.classname == "monster_hell_knight") AddExp (attacker, 7);
		if (self.classname == "monster_ogre") AddExp (attacker, 6);
		if (self.classname == "monster_ogre_marksman") AddExp (attacker, 6);
		if (self.classname == "monster_shalrath") AddExp (attacker, 6);
		if (self.classname == "monster_shambler") AddExp (attacker, 80);
		if (self.classname == "monster_army") AddExp (attacker, 3);
		if (self.classname == "monster_tarbaby") AddExp (attacker, 2);
		if (self.classname == "monster_wizard") AddExp (attacker, 4);
</pre></div>
<br>
<br>Now above the in the Killed function within the block of code:
<br>
<br><div class="code"><pre>	if (self.flags &amp; FL_MONSTER)
	{
		killed_monsters = killed_monsters + 1;
		WriteByte (MSG_ALL, SVC_KILLEDMONSTER);
	}
</pre></div>
<br>
<br>Add the line above or below killed_monsters:
<br>
<br><div class="code"><pre>	PrintExp(attacker);
</pre></div>
<br>
<br>No thats all for Combat.qc. What we have done is set the base amount
 of Exp for each monster. Also we have made it so when you kill a 
monster it prints the Experience Points total rather than at each blow.
<br>
<br><h3>Step 4.</h3>
<br>
<br>Now open up Weapons.qc and find ImpulseCommands. In this function above the impulse for QuadCheat add the following impulse:
<br>
<br><div class="code"><pre>	if (self.impulse = 15) PrintExp (self);
</pre></div>
<br>
<br>All you have to do is bind the impulse, in this case 15 to a key in quake or edit the config file.
<br>
<br><h3>Step 5.</h3>
<br>
<br>This is the easiest step. Open up Progs.src and above Combat.qc add 
Exp_sys.qc. Now save everything and compile. Pat yourself on the back 
cause your finished.
<br>
<br><h3>Afterword</h3>
<br>
<br>Well there you go. Two different Experience Systems. Is that choice 
or what. Use which one best suits you. Now to be serious, there are 
several alterations you could make to these Exp Systems and they vary on
 your personal choice. You may wish to change the amounts received for 
each monster and the alteration to the base for each monster in the 
second Exp System. If you use this please give me credit for it. Also if
 you find any bugs let me know and I'll fix them.
<br>-Marius 	<br>
	<br>
	<div style="font-size: 10px; color: rgb(153, 153, 153);" align="center">
		Generated in 0.28774s		<br>
		Copyright 1996-2005 Inside3D.com
	</div>
</div>

</body></html>